<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Prank Heart</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    background: radial-gradient(circle at top, #111, #000);
    font-family: Arial, sans-serif;
  }

  /* Hati animasi gemerlap */
  #heart {
    position: absolute;
    font-size: 60px;
    cursor: pointer;
    user-select: none;
    animation: pulse 1s infinite;
    transition: transform 0.2s ease;
    z-index: 2;
  }

  @keyframes pulse {
    0% { transform: scale(1); color: #ff4d4d; }
    50% { transform: scale(1.2); color: #ff99cc; }
    100% { transform: scale(1); color: #ff4d4d; }
  }

  /* Teks Usap ke atas */
  #message {
    position: absolute;
    font-size: 0px;
    background: linear-gradient(90deg, #ff6b8a, #f9d423, #6a11cb);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: bold;
    text-align: center;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    user-select: none;
    cursor: grab;
    width: 200px;
    height: 100px;
    pointer-events: none;
  }

  /* Panah CSS ke atas */
  #arrow {
    position: absolute;
    top: 75%;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 15px solid transparent;
    border-right: 15px solid transparent;
    border-bottom: 25px solid #fff;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
  }

  /* Tirai dua kain */
  #curtain {
    position: absolute;
    width: 100%;
    height: 100%;
    top: -100%;
    left: 0;
    display: flex;
    justify-content: space-between;
    overflow: hidden;
    transition: top 1s ease;
    z-index: 10;
  }

  .curtain-left, .curtain-right {
    width: 50%;
    height: 100%;
    background: linear-gradient(to bottom, #8B0000 0%, #4B0000 100%);
    box-shadow: inset 0 0 50px #000;
    cursor: pointer;
    transition: transform 1s ease;
  }

  /* Teks tengah tirai */
  #curtainText {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 40px;
    font-weight: bold;
    color: #fff;
    text-shadow: 0 0 10px #ff0000;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.5s ease;
    z-index: 11;
    text-align: center;
  }

  /* Foto hantu */
  #ghost {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    max-width: 80%;
    display: none;
    border: 5px solid #fff;
    border-radius: 10px;
    box-shadow: 0 0 0px red;
    filter: blur(20px);
    opacity: 0;
    z-index: 5;
    transition: all 0.1s linear;
  }
</style>
</head>
<body>

<div id="heart">❤️</div>
<div id="message">Usap ke atas</div>
<div id="arrow"></div>

<div id="curtain">
  <div class="curtain-left"></div>
  <div class="curtain-right"></div>
</div>

<div id="curtainText">Klik untuk membuka tirai!</div>

<img id="ghost" src="" alt="Hantu">

<script>
const heart = document.getElementById('heart');
const message = document.getElementById('message');
const arrow = document.getElementById('arrow');
const curtain = document.getElementById('curtain');
const leftCurtain = document.querySelector('.curtain-left');
const rightCurtain = document.querySelector('.curtain-right');
const ghost = document.getElementById('ghost');
const curtainText = document.getElementById('curtainText');

let heartClicked = false;
let dragging = false;
let startY = 0;

// Klik hati → munculkan teks dan panah
heart.addEventListener('click', () => {
  heart.style.display = 'none';
  message.style.fontSize = '50px';
  message.style.pointerEvents = 'auto';
  arrow.style.opacity = 1;
  heartClicked = true;
});

// Drag/touch untuk geser ke atas → teks & panah hilang
document.addEventListener('mousedown', (e) => {
  if (!heartClicked) return;
  dragging = true;
  startY = e.clientY;
});
document.addEventListener('touchstart', (e) => {
  if (!heartClicked) return;
  dragging = true;
  startY = e.touches[0].clientY;
});

document.addEventListener('mousemove', (e) => {
  if (!dragging) return;
  let dy = startY - e.clientY;
  if(dy > 0){
    message.style.top = `calc(50% - ${dy}px)`;
    arrow.style.top = `calc(75% - ${dy}px)`;
    message.style.opacity = 0;
    arrow.style.opacity = 0;
  }
  if(dy > 200){
    curtain.style.top = '0';
    curtainText.style.opacity = 1; // tampilkan teks tengah tirai
  }
});
document.addEventListener('touchmove', (e) => {
  if (!dragging) return;
  let dy = startY - e.touches[0].clientY;
  if(dy > 0){
    message.style.top = `calc(50% - ${dy}px)`;
    arrow.style.top = `calc(75% - ${dy}px)`;
    message.style.opacity = 0;
    arrow.style.opacity = 0;
  }
  if(dy > 200){
    curtain.style.top = '0';
    curtainText.style.opacity = 1;
  }
});

document.addEventListener('mouseup', () => dragging = false);
document.addEventListener('touchend', () => dragging = false);

// Tirai diklik → buka kain tirai + foto muncul perlahan + sembunyikan teks
function openCurtain() {
  leftCurtain.style.transform = 'translateX(-100%)';
  rightCurtain.style.transform = 'translateX(100%)';
  curtainText.style.opacity = 0; // sembunyikan teks saat dibuka

  setTimeout(() => {
    ghost.src = 'https://i.imgur.com/D41W9hh.jpeg';
    ghost.style.display = 'block';
    let blur = 20;
    let opacity = 0;
    let glow = 0;

    const interval = setInterval(() => {
      if (blur > 0) blur -= 0.66;
      if (opacity < 1) opacity += 0.022;
      if (glow < 50) glow += 0.37;
      ghost.style.filter = `blur(${blur}px)`;
      ghost.style.opacity = opacity;
      ghost.style.boxShadow = `0 0 ${glow}px red`;
      if (blur <= 0 && opacity >= 1 && glow >= 50) clearInterval(interval);
    }, 100);
  }, 1000);
}

leftCurtain.addEventListener('click', openCurtain);
rightCurtain.addEventListener('click', openCurtain);
</script>

</body>
</html>
